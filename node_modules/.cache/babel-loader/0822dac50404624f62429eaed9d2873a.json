{"ast":null,"code":"import _taggedTemplateLiteral from \"C:\\\\Users\\\\DIT\\\\Desktop\\\\UNIBANK\\\\unibank-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nimport _classCallCheck from \"C:\\\\Users\\\\DIT\\\\Desktop\\\\UNIBANK\\\\unibank-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\DIT\\\\Desktop\\\\UNIBANK\\\\unibank-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\DIT\\\\Desktop\\\\UNIBANK\\\\unibank-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\DIT\\\\Desktop\\\\UNIBANK\\\\unibank-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\DIT\\\\Desktop\\\\UNIBANK\\\\unibank-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\DIT\\\\Desktop\\\\UNIBANK\\\\unibank-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\DIT\\\\Desktop\\\\UNIBANK\\\\unibank-web\\\\src\\\\pages\\\\Login.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n\\n  .ui-logo {\\n    margin-top: 20px;\\n    width: 60%;\\n  }\\n \\n  \\n  @media (min-width: 768px) {\\n    \\n    .ui-button{\\n    cursor: pointer;\\n    vertical-align: middle;\\n\\n    }\\n    .ui-form {\\n    padding-right:30px\\n      padding-top: 180px;\\n    }\\n   .col .img{\\n  float:right\\n  margin-right:10px\\n  margin-top:10px;\\n  width:40px;\\n  height:40px;\\n  padding:7px;\\n      background: #000;\\n      border-radius: 30px;\\n      border: 2px solid #000;\\n      transition: all 0.8s;\\n      svg {\\n        transition: all 0.8s;\\n          fill: #fff;\\n      }\\n    .ui-logo {\\n      width: 75%;\\n    }\\n   \\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Col, Row } from 'reactstrap';\nimport styled from 'styled-components';\nimport LoginForm from '../component/LoginForm';\nimport { loadListGeo, loginAction, loginOAuth2 } from \"../app/store/actions\";\nimport { Redirect } from \"react-router-dom\";\nimport Map from \"../component/map\";\nimport InfoWindow from \"../component/map/infoWindow\";\nimport GoogleMap from 'google-distance-matrix';\nimport Button from \"./../component/button\";\nimport queryString from 'query-string';\nimport * as storage from '../app/storage';\nimport get from \"lodash/get\";\nimport isString from \"lodash/isString\";\nimport IcLogin from \"../component/images/login\";\nimport store from '../app/store';\nvar initialState = {\n  user: storage.get('session_user'),\n  authenticated: false\n};\nvar assets = {\n  main: require('../assets/img/background-1.png'),\n  logo: require('../assets/img/image.png'),\n  map: require('../assets/img/map.png')\n};\n\nvar delay = function delay(ms) {\n  return new Promise(function (resolve) {\n    return setTimeout(resolve, ms);\n  });\n};\n\nvar Login =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n    _this.state = {\n      mapActive: false,\n      data: null,\n      markers: []\n    };\n    _this.onClick = _this.displayMap.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var params = queryString.parse(this.props.location.search);\n\n      if (Object.getOwnPropertyNames(params).length !== 0) {\n        var user = {\n          token: params.token\n        };\n        storage.set('session_user', user);\n        this.props.dispatch(loginOAuth2()).then(function () {\n          return _this2.props.history.push('/');\n        });\n      }\n    }\n  }, {\n    key: \"displayMap\",\n    value: function displayMap() {\n      var _this3 = this;\n\n      this.props.dispatch(loadListGeo()).then(function (data) {\n        _this3.setState({\n          markers: data.payload.dabs,\n          mapActive: true\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(LoginStyle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"Container-fluid\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"ui-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        style: {\n          width: '40px'\n        },\n        src: assets.logo,\n        className: \"ui-logo mb-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }), \" \", React.createElement(\"span\", {\n        style: {\n          fontSize: '18px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"UNIBANK\"), React.createElement(LoginForm, {\n        onSubmit: function onSubmit(form) {\n          return _this4.props.dispatch(loginAction(form)).then(function () {\n            return _this4.props.history.push('/');\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"ui-button map \",\n        onClick: this.onClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Localiser \", React.createElement(\"img\", {\n        src: assets.map,\n        className: \"ui-hero\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"mt-3 text-muted\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"small\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"\\xA9 2018 Soci\\xE9t\\xE9 G\\xE9n\\xE9rale ABS\")))), React.createElement(Col, {\n        md: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          backgroundImage: \"url(\".concat(assets.main, \")\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      })))))));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nvar mapState2Props = function mapState2Props(state) {\n  return {\n    session: state.session\n  };\n};\n\nexport default connect(mapState2Props)(Login);\nvar LoginStyle = styled.div(_templateObject());","map":{"version":3,"sources":["C:\\Users\\DIT\\Desktop\\UNIBANK\\unibank-web\\src\\pages\\Login.js"],"names":["React","connect","Col","Row","styled","LoginForm","loadListGeo","loginAction","loginOAuth2","Redirect","Map","InfoWindow","GoogleMap","Button","queryString","storage","get","isString","IcLogin","store","initialState","user","authenticated","assets","main","require","logo","map","delay","ms","Promise","resolve","setTimeout","Login","props","state","mapActive","data","markers","onClick","displayMap","bind","params","parse","location","search","Object","getOwnPropertyNames","length","token","set","dispatch","then","history","push","setState","payload","dabs","width","fontSize","form","backgroundImage","Component","mapState2Props","session","LoginStyle","div"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {connect} from 'react-redux'\nimport {Col, Row} from 'reactstrap'\nimport styled from 'styled-components'\nimport LoginForm from '../component/LoginForm';\nimport {loadListGeo, loginAction, loginOAuth2} from \"../app/store/actions\";\nimport {Redirect} from \"react-router-dom\";\nimport Map from \"../component/map\";\nimport InfoWindow from \"../component/map/infoWindow\";\nimport GoogleMap from 'google-distance-matrix';\nimport Button from \"./../component/button\";\nimport queryString from 'query-string'\nimport * as storage from '../app/storage'\nimport get from \"lodash/get\";\nimport isString from \"lodash/isString\";\nimport IcLogin from \"../component/images/login\";\nimport store from '../app/store'\n\nconst initialState = {\n  user: storage.get('session_user'),\n  authenticated: false\n}\nconst assets = {\n  main: require('../assets/img/background-1.png'),\n  logo: require('../assets/img/image.png'),\n  map: require('../assets/img/map.png'),\n}\nconst delay = (ms) => new Promise(resolve =>\n  setTimeout(resolve, ms)\n);\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      mapActive: false,\n      data: null,\n      markers: []\n    }\n    this.onClick = this.displayMap.bind(this);\n  }\n\n  componentDidMount() {\n    let params = queryString.parse(this.props.location.search)\n    if (Object.getOwnPropertyNames(params).length !== 0) {\n      const user = {\n        token: params.token\n      }\n      storage.set('session_user', user);\n      this.props.dispatch(loginOAuth2()).then(() => this.props.history.push('/'))\n    }\n\n  }\n\n  displayMap() {\n    this.props.dispatch(loadListGeo()).then((data) => {\n      this.setState({markers: data.payload.dabs, mapActive: true})\n    })\n  }\n\n  render() {\n    return (\n      <LoginStyle>\n        <Container-fluid>\n          <Row>\n            <Col>\n              <div className=\"ui-form\">\n                <img style={{width: '40px'}} src={assets.logo} className=\"ui-logo mb-5\"/> <span\n                style={{fontSize: '18px'}}>UNIBANK</span>\n                <LoginForm\n                  onSubmit={(form) => this.props.dispatch(loginAction(form)).then(() => this.props.history.push('/'))}/>\n                <span className=\"ui-button map \" onClick={this.onClick}>Localiser <img src={assets.map}\n                                                                                       className=\"ui-hero\"/></span>\n\n                <div className=\"mt-3 text-muted\">\n                  <small>\n                    &copy; 2018 Société Générale ABS\n                  </small>\n                </div>\n              </div>\n            </Col>\n            <Col md={8}>\n              <div style={{backgroundImage: `url(${assets.main})`}}>\n                <div>\n                  <h1></h1>\n                </div>\n              </div>\n\n            </Col>\n          </Row>\n        </Container-fluid>\n      </LoginStyle>\n    )\n  }\n}\n\nconst mapState2Props = (state) => ({session: state.session})\nexport default connect(mapState2Props)(Login);\nconst LoginStyle = styled.div`\n\n  .ui-logo {\n    margin-top: 20px;\n    width: 60%;\n  }\n \n  \n  @media (min-width: 768px) {\n    \n    .ui-button{\n    cursor: pointer;\n    vertical-align: middle;\n\n    }\n    .ui-form {\n    padding-right:30px\n      padding-top: 180px;\n    }\n   .col .img{\n  float:right\n  margin-right:10px\n  margin-top:10px;\n  width:40px;\n  height:40px;\n  padding:7px;\n      background: #000;\n      border-radius: 30px;\n      border: 2px solid #000;\n      transition: all 0.8s;\n      svg {\n        transition: all 0.8s;\n          fill: #fff;\n      }\n    .ui-logo {\n      width: 75%;\n    }\n   \n  }\n`\n"]},"metadata":{},"sourceType":"module"}