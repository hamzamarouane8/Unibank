{"ast":null,"code":"import _taggedTemplateLiteral from \"C:\\\\Users\\\\DIT\\\\Desktop\\\\Nouveau dossier (4)\\\\unibank-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nimport _classCallCheck from \"C:\\\\Users\\\\DIT\\\\Desktop\\\\Nouveau dossier (4)\\\\unibank-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\DIT\\\\Desktop\\\\Nouveau dossier (4)\\\\unibank-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\DIT\\\\Desktop\\\\Nouveau dossier (4)\\\\unibank-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\DIT\\\\Desktop\\\\Nouveau dossier (4)\\\\unibank-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\DIT\\\\Desktop\\\\Nouveau dossier (4)\\\\unibank-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\DIT\\\\Desktop\\\\Nouveau dossier (4)\\\\unibank-web\\\\src\\\\pages\\\\Beneficiaires.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n.add-img{\\n.ui.icon.button, .ui.icon.buttons .button{\\nmargin-left:5px;\\n    border-radius: 55px;\\nbackground:#922c88 !important;\\ncolor:#FFF;\\n\\n}\\n}\\n  .content .ui.text.menu .active.item{\\n    font-weight: 700;\\n    font-size:1.2em;\\n    pointer-events: auto;\\n  }\\n  .content .ui.text.menu .item{\\n    pointer-events: none;\\n  }\\n  .ui.text.menu :first-child:nth-last-child(2),\\n  .ui.text.menu :first-child:nth-last-child(2) ~ li {\\n  pointer-events: auto;\\n}\\n.content .ui.text.menu :first-child:nth-last-child(1),\\n  .ui.text.menu :first-child:nth-last-child(1) ~ li {\\n    pointer-events: none;\\n}\\n.add-img{\\n display: inline-block;\\nfloat:right;\\npadding-left:10px;\\npadding-right:10px;\\nmargin-bottom:10px;\\n}\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { loadBeneficiairesAction, addBeneficiairyAction, deleteBeneficiairyAction, loadHistoryById } from \"../app/store/actions\";\nimport ListBeneficiaires from \"../containers/ListBeneficiaires\";\nimport BenefeciaireForm from \"../containers/BeneficiaireForm\";\nimport styled from \"react-emotion\";\nimport PageLayout from '../layouts/Page';\nimport Button from \"../component/button\";\nimport forEach from \"lodash/forEach\";\n\nvar Beneficiaires =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Beneficiaires, _React$Component);\n\n  function Beneficiaires(props) {\n    var _this;\n\n    _classCallCheck(this, Beneficiaires);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Beneficiaires).call(this, props));\n\n    _this.getListToDelete = function (list) {\n      var listToDelete = [];\n      list.forEach(function (value, key) {\n        if (value) {\n          listToDelete.push(key);\n        } else {\n          listToDelete.filter(function (el) {\n            return el != key;\n          });\n        }\n      });\n\n      _this.setState({\n        listToDelete: listToDelete\n      });\n    };\n\n    _this.state = {\n      beneficiaires: [],\n      listBeneficiaryPhysique: [],\n      listBeneficiaryMoral: [],\n      historyAccounts: [],\n      activeList: true,\n      activeForm: false,\n      listToDelete: []\n    };\n    return _this;\n  }\n  /* handleHistory = (idAccount) => {\n     this.props.dispatch(deleteBeneficiairyAction(idAccount)).then(()=>window.location.reload())\n   }*/\n\n\n  _createClass(Beneficiaires, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.props.dispatch(loadBeneficiairesAction()).then(function (data) {\n        var listBeneficiaryMoral = [];\n        var listBeneficiaryPhysique = [];\n        var listBeneficiaries = data.payload.beneficiaries.length > 0 ? data.payload.beneficiaries : [];\n        listBeneficiaries.map(function (item, index) {\n          if (item.business) {\n            listBeneficiaryMoral.push(item);\n          } else {\n            listBeneficiaryPhysique.push(item);\n          }\n        });\n\n        _this2.setState({\n          listBeneficiaryPhysique: listBeneficiaryPhysique,\n          listBeneficiaryMoral: listBeneficiaryMoral\n        });\n      });\n    }\n  }, {\n    key: \"handleEventDelete\",\n    value: function handleEventDelete() {\n      var _this3 = this;\n\n      this.props.dispatch(deleteBeneficiairyAction(this.state.listToDelete)).then(function () {\n        return _this3.componentDidMount();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(Design, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(PageLayout, {\n        title: \"B\\xE9n\\xE9ficiaires\",\n        description: \"Vous consultez la liste de vos b\\xE9n\\xE9ficiaires\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"add-img\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, this.state.activeList && React.createElement(Button, {\n        type: \"submit\",\n        nameIcon: \"plus\",\n        onClick: function onClick() {\n          _this4.setState({\n            activeList: false,\n            activeForm: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), this.state.activeList && React.createElement(Button, {\n        type: \"submit\",\n        nameIcon: \"delete\",\n        disabled: this.state.listToDelete != null && this.state.listToDelete.length > 0 ? false : true,\n        onClick: function onClick() {\n          _this4.handleEventDelete();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"clearfix\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"content list-beneficiaires\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, this.state.activeList && React.createElement(ListBeneficiaires, {\n        getListToDelete: this.getListToDelete,\n        handleHistory: this.handleHistory,\n        dataBeneficiaryMoral: this.state.listBeneficiaryMoral,\n        dataBeneficiaryPhysique: this.state.listBeneficiaryPhysique,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"content new-benefeciaire\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, this.state.activeForm && React.createElement(BenefeciaireForm, {\n        data: this.state.beneficiaires,\n        retour: function retour() {\n          return _this4.setState({\n            activeList: true,\n            activeForm: false\n          });\n        },\n        onSubmit: function onSubmit(data) {\n          return _this4.props.dispatch(addBeneficiairyAction(data)).then(function () {\n            window.location.reload();\n\n            _this4.setState({\n              activeForm: false,\n              activeList: true\n            });\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Beneficiaires;\n}(React.Component);\n\nvar mapState2Props = function mapState2Props(state) {\n  return {\n    session: state.session\n  };\n};\n\nexport default connect(mapState2Props)(Beneficiaires);\nvar Design = styled('div')(_templateObject());\n/*\n text menu\n */","map":{"version":3,"sources":["C:\\Users\\DIT\\Desktop\\Nouveau dossier (4)\\unibank-web\\src\\pages\\Beneficiaires.js"],"names":["React","connect","loadBeneficiairesAction","addBeneficiairyAction","deleteBeneficiairyAction","loadHistoryById","ListBeneficiaires","BenefeciaireForm","styled","PageLayout","Button","forEach","Beneficiaires","props","getListToDelete","list","listToDelete","value","key","push","filter","el","setState","state","beneficiaires","listBeneficiaryPhysique","listBeneficiaryMoral","historyAccounts","activeList","activeForm","dispatch","then","data","listBeneficiaries","payload","beneficiaries","length","map","item","index","business","componentDidMount","handleEventDelete","handleHistory","window","location","reload","Component","mapState2Props","session","Design"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {connect} from 'react-redux'\nimport {\n  loadBeneficiairesAction,\n  addBeneficiairyAction,\n  deleteBeneficiairyAction,\n  loadHistoryById\n} from \"../app/store/actions\";\nimport ListBeneficiaires from \"../containers/ListBeneficiaires\";\nimport BenefeciaireForm from \"../containers/BeneficiaireForm\";\n\nimport styled from \"react-emotion\";\nimport PageLayout from '../layouts/Page'\nimport Button from \"../component/button\";\nimport forEach from \"lodash/forEach\";\n\nclass Beneficiaires extends React.Component {\n\n\n  constructor(props){\n    super(props);\n    this.state = {\n      beneficiaires: [] ,\n      listBeneficiaryPhysique:[],\n      listBeneficiaryMoral:[],\n      historyAccounts:[],\n      activeList: true,\n      activeForm: false,\n      listToDelete:[]\n    }\n  }\n\n /* handleHistory = (idAccount) => {\n    this.props.dispatch(deleteBeneficiairyAction(idAccount)).then(()=>window.location.reload())\n  }*/\n\n  componentDidMount() {\n    this.props.dispatch(loadBeneficiairesAction()).then((data) => {\n      let listBeneficiaryMoral =[];\n      let listBeneficiaryPhysique=[];\n      let listBeneficiaries = data.payload.beneficiaries.length>0?data.payload.beneficiaries:[]\n      listBeneficiaries.map((item,index)=>{\n               if(item.business){\n                 listBeneficiaryMoral.push(item)\n               }else{\n                 listBeneficiaryPhysique.push(item)\n               }\n      })\n      this.setState({listBeneficiaryPhysique:listBeneficiaryPhysique,listBeneficiaryMoral:listBeneficiaryMoral })\n    })\n  }\n\n  getListToDelete = (list) => {\n    let listToDelete = [];\n    list.forEach((value, key) => {\n      if(value){\n        listToDelete.push(key)\n      }else{\n        listToDelete.filter(el => el != key )\n      }\n    })\n    this.setState({listToDelete});\n  }\n\n  handleEventDelete(){\n   this.props.dispatch(deleteBeneficiairyAction(this.state.listToDelete)).then(()=>this.componentDidMount());\n  }\n\n  render() {\n    return (\n      <Design>\n        <PageLayout title=\"Bénéficiaires\" description=\"Vous consultez la liste de vos bénéficiaires\">\n          <div className=\"add-img\">\n            {this.state.activeList && <Button type=\"submit\"  nameIcon=\"plus\" onClick={()=>{this.setState({activeList: false,activeForm:true})}}/>}\n            {this.state.activeList && <Button type=\"submit\"  nameIcon=\"delete\" disabled={this.state.listToDelete!= null && this.state.listToDelete.length>0?false:true} onClick={()=>{this.handleEventDelete()}}/>}\n          </div>\n          <div className=\"clearfix\"/>\n          <div className=\"content list-beneficiaires\">\n            {this.state.activeList && <ListBeneficiaires getListToDelete={this.getListToDelete}\n                                                         handleHistory={this.handleHistory}\n                                                         dataBeneficiaryMoral={this.state.listBeneficiaryMoral}\n                                                         dataBeneficiaryPhysique={this.state.listBeneficiaryPhysique}  />}\n          </div>\n          <div className=\"content new-benefeciaire\">\n            {this.state.activeForm && <BenefeciaireForm data={this.state.beneficiaires}\n                                                        retour={()=>{\n                                                          return this.setState({activeList: true, activeForm: false})}\n                                                        }\n                                                        onSubmit={(data)=>this.props.dispatch(addBeneficiairyAction(data)).then(()=>{\n                                                          window.location.reload();\n                                                          this.setState({activeForm:false,activeList:true})})\n                                                        }\n            />}\n          </div>\n       </PageLayout>\n      </Design>\n    );\n  }\n}\nconst mapState2Props = (state) => ({session: state.session})\n\nexport default connect(mapState2Props)(Beneficiaires);\nconst Design = styled('div')`\n.add-img{\n.ui.icon.button, .ui.icon.buttons .button{\nmargin-left:5px;\n    border-radius: 55px;\nbackground:#922c88 !important;\ncolor:#FFF;\n\n}\n}\n  .content .ui.text.menu .active.item{\n    font-weight: 700;\n    font-size:1.2em;\n    pointer-events: auto;\n  }\n  .content .ui.text.menu .item{\n    pointer-events: none;\n  }\n  .ui.text.menu :first-child:nth-last-child(2),\n  .ui.text.menu :first-child:nth-last-child(2) ~ li {\n  pointer-events: auto;\n}\n.content .ui.text.menu :first-child:nth-last-child(1),\n  .ui.text.menu :first-child:nth-last-child(1) ~ li {\n    pointer-events: none;\n}\n.add-img{\n display: inline-block;\nfloat:right;\npadding-left:10px;\npadding-right:10px;\nmargin-bottom:10px;\n}\n`\n/*\n text menu\n */\n"]},"metadata":{},"sourceType":"module"}