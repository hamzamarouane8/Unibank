{"ast":null,"code":"import _taggedTemplateLiteral from \"C:\\\\Users\\\\DIT\\\\Desktop\\\\Nouveau dossier (4)\\\\unibank-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nimport _classCallCheck from \"C:\\\\Users\\\\DIT\\\\Desktop\\\\Nouveau dossier (4)\\\\unibank-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\DIT\\\\Desktop\\\\Nouveau dossier (4)\\\\unibank-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\DIT\\\\Desktop\\\\Nouveau dossier (4)\\\\unibank-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\DIT\\\\Desktop\\\\Nouveau dossier (4)\\\\unibank-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\DIT\\\\Desktop\\\\Nouveau dossier (4)\\\\unibank-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\DIT\\\\Desktop\\\\Nouveau dossier (4)\\\\unibank-web\\\\src\\\\pages\\\\Comptes.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  .ui.text.menu .active.item{\\n  color:#922c88;\\n    font-weight: 600;\\n    font-size:1.0em;\\n    pointer-events: auto;\\n  }\\n  .ui.text.menu .item{\\n    pointer-events: none;\\n  }\\n  .ui.text.menu :first-child:nth-last-child(2),\\n  .ui.text.menu :first-child:nth-last-child(2) ~ li {\\n  pointer-events: auto;\\n}\\n.ui.text.menu :first-child:nth-last-child(1),\\n  .ui.text.menu :first-child:nth-last-child(1) ~ li {\\n    pointer-events: none;\\n}\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { loadAccountsAction, loadHistoryById } from \"../app/store/actions\";\nimport PageLayout from '../layouts/Page';\nimport Accounts from \"../containers/Accounts\";\nimport History from \"../containers/History\";\nimport { Tab } from 'semantic-ui-react';\nimport styled from \"react-emotion\";\n\nvar Comptes =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Comptes, _React$Component);\n\n  function Comptes() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Comptes);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Comptes)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      accounts: [],\n      historyAccounts: [],\n      activeIndex: 0,\n      account: ''\n    };\n\n    _this.handleHistory = function (idAccount) {\n      _this.props.dispatch(loadHistoryById(idAccount)).then(function (data) {\n        return _this.setState({\n          activeIndex: 1,\n          historyAccounts: data.payload.operations,\n          account: ' / ' + idAccount\n        });\n      });\n    };\n\n    _this.handleTabChange = function (e, _ref) {\n      var activeIndex = _ref.activeIndex;\n\n      if (activeIndex == 0) {\n        return _this.setState({\n          activeIndex: activeIndex,\n          account: ''\n        });\n      } else {\n        return null;\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Comptes, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.props.dispatch(loadAccountsAction()).then(function (data) {\n        if (data.payload.accounts.length > 0) {\n          _this2.props.dispatch(loadHistoryById(data.payload.accounts[0].accountId)).then(function (data) {\n            return _this2.setState({\n              historyAccounts: data.payload.operations\n            });\n          });\n        }\n\n        _this2.setState({\n          accounts: data.payload.accounts.length > 0 ? data.payload.accounts : []\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var panes = [{\n        menuItem: 'Liste des comptes',\n        active: false,\n        render: function render() {\n          return React.createElement(Accounts, {\n            handleHistory: _this3.handleHistory,\n            data: _this3.state.accounts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 45\n            },\n            __self: this\n          });\n        }\n      }, {\n        menuItem: 'Historique des comptes',\n        active: false,\n        render: function render() {\n          return React.createElement(History, {\n            data: _this3.state.historyAccounts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46\n            },\n            __self: this\n          });\n        }\n      }];\n      var _activeIndex = {\n        activeIndex: this.state.activeIndex\n      },\n          activeIndex = _activeIndex.activeIndex;\n      return React.createElement(Design, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(PageLayout, {\n        title: \"Comptes\" + this.state.account,\n        description: \"Vous consultez la liste de vos comptes\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(Tab, {\n        menu: {\n          text: true\n        },\n        activeIndex: activeIndex,\n        panes: panes,\n        onTabChange: this.handleTabChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Comptes;\n}(React.Component);\n\nexport default connect()(Comptes);\nvar Design = styled('div')(_templateObject());\n/*\n text menu\n */","map":{"version":3,"sources":["C:\\Users\\DIT\\Desktop\\Nouveau dossier (4)\\unibank-web\\src\\pages\\Comptes.js"],"names":["React","connect","loadAccountsAction","loadHistoryById","PageLayout","Accounts","History","Tab","styled","Comptes","state","accounts","historyAccounts","activeIndex","account","handleHistory","idAccount","props","dispatch","then","data","setState","payload","operations","handleTabChange","e","length","accountId","panes","menuItem","active","render","text","Component","Design"],"mappings":";;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,kBAAR,EAA4BC,eAA5B,QAAkD,sBAAlD;AACA,OAAOC,UAAP,MAAuB,iBAAvB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AAEA,SAAQC,GAAR,QAAkB,mBAAlB;AACA,OAAOC,MAAP,MAAmB,eAAnB;;IAEMC,O;;;;;;;;;;;;;;;;;UAEJC,K,GAAQ;AACNC,MAAAA,QAAQ,EAAE,EADJ;AAENC,MAAAA,eAAe,EAAC,EAFV;AAGNC,MAAAA,WAAW,EAAE,CAHP;AAINC,MAAAA,OAAO,EAAC;AAJF,K;;UAkBRC,a,GAAgB,UAACC,SAAD,EAAe;AAC7B,YAAKC,KAAL,CAAWC,QAAX,CAAoBf,eAAe,CAACa,SAAD,CAAnC,EAAgDG,IAAhD,CAAqD,UAACC,IAAD;AAAA,eAAQ,MAAKC,QAAL,CAAc;AAACR,UAAAA,WAAW,EAAC,CAAb;AAAeD,UAAAA,eAAe,EAACQ,IAAI,CAACE,OAAL,CAAaC,UAA5C;AAAuDT,UAAAA,OAAO,EAAC,QAAME;AAArE,SAAd,CAAR;AAAA,OAArD;AACD,K;;UAEDQ,e,GAAkB,UAACC,CAAD,QAAwB;AAAA,UAAlBZ,WAAkB,QAAlBA,WAAkB;;AACxC,UAAGA,WAAW,IAAI,CAAlB,EAAoB;AAChB,eAAO,MAAKQ,QAAL,CAAc;AAAER,UAAAA,WAAW,EAAXA,WAAF;AAAgBC,UAAAA,OAAO,EAAE;AAAzB,SAAd,CAAP;AACH,OAFD,MAEK;AACD,eAAO,IAAP;AACH;AACF,K;;;;;;;wCArBmB;AAAA;;AAClB,WAAKG,KAAL,CAAWC,QAAX,CAAoBhB,kBAAkB,EAAtC,EAA0CiB,IAA1C,CAA+C,UAACC,IAAD,EAAU;AACvD,YAAGA,IAAI,CAACE,OAAL,CAAaX,QAAb,CAAsBe,MAAtB,GAA6B,CAAhC,EAAmC;AACjC,UAAA,MAAI,CAACT,KAAL,CAAWC,QAAX,CAAoBf,eAAe,CAACiB,IAAI,CAACE,OAAL,CAAaX,QAAb,CAAsB,CAAtB,EAAyBgB,SAA1B,CAAnC,EAAyER,IAAzE,CAA8E,UAACC,IAAD,EAAU;AACtF,mBAAO,MAAI,CAACC,QAAL,CAAc;AAACT,cAAAA,eAAe,EAAEQ,IAAI,CAACE,OAAL,CAAaC;AAA/B,aAAd,CAAP;AACD,WAFD;AAGD;;AACD,QAAA,MAAI,CAACF,QAAL,CAAc;AAACV,UAAAA,QAAQ,EAAES,IAAI,CAACE,OAAL,CAAaX,QAAb,CAAsBe,MAAtB,GAA6B,CAA7B,GAA+BN,IAAI,CAACE,OAAL,CAAaX,QAA5C,GAAqD;AAAhE,SAAd;AACD,OAPD;AASD;;;6BAaQ;AAAA;;AACP,UAAIiB,KAAK,GAAG,CACV;AAAEC,QAAAA,QAAQ,EAAE,mBAAZ;AAAiCC,QAAAA,MAAM,EAAC,KAAxC;AAA+CC,QAAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,QAAD;AAAU,YAAA,aAAa,EAAE,MAAI,CAAChB,aAA9B;AAA6C,YAAA,IAAI,EAAE,MAAI,CAACL,KAAL,CAAWC,QAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA;AAAvD,OADU,EAEV;AAAEkB,QAAAA,QAAQ,EAAE,wBAAZ;AAAsCC,QAAAA,MAAM,EAAE,KAA9C;AAAqDC,QAAAA,MAAM,EAAE;AAAA,iBAAK,oBAAC,OAAD;AAAS,YAAA,IAAI,EAAE,MAAI,CAACrB,KAAL,CAAWE,eAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAL;AAAA;AAA7D,OAFU,CAAZ;AADO,yBAKiB;AAAEC,QAAAA,WAAW,EAAE,KAAKH,KAAL,CAAWG;AAA1B,OALjB;AAAA,UAKCA,WALD,gBAKCA,WALD;AAMP,aACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,UAAD;AAAY,QAAA,KAAK,EAAE,YAAU,KAAKH,KAAL,CAAWI,OAAxC;AAAiD,QAAA,WAAW,EAAE,wCAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE,oBAAC,GAAD;AAAK,QAAA,IAAI,EAAE;AAAEkB,UAAAA,IAAI,EAAE;AAAR,SAAX;AAA2B,QAAA,WAAW,EAAEnB,WAAxC;AAAqD,QAAA,KAAK,EAAEe,KAA5D;AAAmE,QAAA,WAAW,EAAE,KAAKJ,eAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADA,CADF;AAQD;;;;EA9CmBxB,KAAK,CAACiC,S;;AAkD5B,eAAehC,OAAO,GAAGQ,OAAH,CAAtB;AACA,IAAMyB,MAAM,GAAG1B,MAAM,CAAC,KAAD,CAAT,mBAAZ;AAmBA","sourcesContent":["import React from 'react';\nimport {connect} from 'react-redux'\nimport {loadAccountsAction, loadHistoryById} from \"../app/store/actions\";\nimport PageLayout from '../layouts/Page'\nimport Accounts from \"../containers/Accounts\";\nimport History from \"../containers/History\";\n\nimport {Tab} from 'semantic-ui-react'\nimport styled from \"react-emotion\";\n\nclass Comptes extends React.Component {\n\n  state = {\n    accounts: [] ,\n    historyAccounts:[],\n    activeIndex: 0, \n    account:''\n  }\n\n  componentDidMount() {\n    this.props.dispatch(loadAccountsAction()).then((data) => {\n      if(data.payload.accounts.length>0) {\n        this.props.dispatch(loadHistoryById(data.payload.accounts[0].accountId)).then((data) => {\n          return this.setState({historyAccounts: data.payload.operations})\n        })\n      }\n      this.setState({accounts: data.payload.accounts.length>0?data.payload.accounts:[]})\n    })\n\n  }\n  handleHistory = (idAccount) => {\n    this.props.dispatch(loadHistoryById(idAccount)).then((data)=>this.setState({activeIndex:1,historyAccounts:data.payload.operations,account:' / '+idAccount}))\n  }\n\n  handleTabChange = (e, { activeIndex }) => {\n    if(activeIndex == 0){\n        return this.setState({ activeIndex , account :'' })\n    }else{\n        return null;\n    }\n  }\n\n  render() {\n    let panes = [\n      { menuItem: 'Liste des comptes' ,active:false, render: () => <Accounts handleHistory={this.handleHistory} data={this.state.accounts}  /> },\n      { menuItem: 'Historique des comptes' ,active :false, render: () =><History data={this.state.historyAccounts} />},\n    ]\n    const { activeIndex } = { activeIndex: this.state.activeIndex}\n    return (\n      <Design>\n      <PageLayout title={\"Comptes\"+this.state.account} description={\"Vous consultez la liste de vos comptes\"}>\n      \n        <Tab menu={{ text: true }} activeIndex={activeIndex} panes={panes} onTabChange={this.handleTabChange}/>\n      </PageLayout>\n      </Design>\n    );\n  }\n}\n\n\nexport default connect()(Comptes);\nconst Design = styled('div')`\n  .ui.text.menu .active.item{\n  color:#922c88;\n    font-weight: 600;\n    font-size:1.0em;\n    pointer-events: auto;\n  }\n  .ui.text.menu .item{\n    pointer-events: none;\n  }\n  .ui.text.menu :first-child:nth-last-child(2),\n  .ui.text.menu :first-child:nth-last-child(2) ~ li {\n  pointer-events: auto;\n}\n.ui.text.menu :first-child:nth-last-child(1),\n  .ui.text.menu :first-child:nth-last-child(1) ~ li {\n    pointer-events: none;\n}\n`\n/*\n text menu\n */\n"]},"metadata":{},"sourceType":"module"}